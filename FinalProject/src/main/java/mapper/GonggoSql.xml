<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="job.data.gonggo.CompanyMapper">
	<select id="getTotalCount" resultType="int">
		select count(*) from company
	</select>
	<select id="getAlldatas" resultType="company" >
		select * from company order by deadline desc 
	</select>
	<select id="getData" parameterType="String" resultType="company">
		select * from company where num=#{num}
	</select>
	<insert id="insertGonggo" parameterType="company">
		insert into company (empname,job,jobgroup,empcontent,empimg,deadline,writeday) 
		values (#{empname},#{job},#{jobgroup},#{empcontent},#{empimg},STR_TO_DATE(#{deadline},'%Y-%m-%d'),now())
	</insert>
	<delete id="deleteGonggo" parameterType="String">
		delete from company where num=#{num}
	</delete>
	<update id="updateGonggo" parameterType="company">
		update company set job=#{job},jobgroup=#{jobgroup},empcontent=#{empcontent},empimg=#{empimg},deadline=STR_TO_DATE(#{deadline},'%Y-%m-%d') where num=#{num}
	</update>
</mapper>
